(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{252:function(t,e,a){var n=a(253);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(104)(n,s);n.locals&&(t.exports=n.locals)},253:function(t,e,a){(t.exports=a(103)(!1)).push([t.i,'.page-rank {\n  padding: 0 15px; }\n  .page-rank .normal-txt {\n    color: #131314; }\n  .page-rank .my-rank {\n    text-align: center; }\n  .page-rank .txt {\n    font-size: 12px; }\n  .page-rank .rank-no {\n    text-align: center;\n    color: #ff5a50;\n    font-size: 24px; }\n  .page-rank .rank-glance {\n    padding: 20px 0;\n    position: relative; }\n    .page-rank .rank-glance:after {\n      content: " ";\n      position: absolute;\n      bottom: 0;\n      left: -15px;\n      right: -15px;\n      border-bottom: 1px solid #eeeeee;\n      -webkit-transform: scaleY(0.5);\n              transform: scaleY(0.5); }\n  .page-rank .rank-detail-data {\n    padding: 20px 0 0 0;\n    box-sizing: border-box;\n    background-color: #ffffff; }\n  .page-rank .internet-rank {\n    margin-top: 20px; }\n  .page-rank .rank-menu {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center; }\n    .page-rank .rank-menu .active {\n      background-color: #ffe5cc;\n      color: #ff5a50;\n      border-radius: 26px; }\n    .page-rank .rank-menu .normal {\n      background-color: #ffffff;\n      color: #131314;\n      border-radius: 0; }\n  .page-rank .rank-menu_item {\n    width: 80px;\n    text-align: center;\n    font-size: 12px;\n    height: 26px;\n    line-height: 26px; }\n  .page-rank .rank-item {\n    background-color: #ffe5cc;\n    border-radius: 4px;\n    position: relative;\n    padding: 10px 12px;\n    box-sizing: border-box;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    margin-top: 10px; }\n    .page-rank .rank-item:first-of-type {\n      margin-top: 0; }\n  .page-rank .user-info {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n    max-width: 160px; }\n  .page-rank .earn-amount {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n            flex: 1;\n    color: #ff5a50;\n    font-size: 14px;\n    text-align: right;\n    font-weight: bold; }\n  .page-rank .user-name {\n    color: #ff5a50;\n    font-size: 13px;\n    font-weight: bold;\n    word-break: break-all; }\n  .page-rank .user-avatar {\n    width: 36px;\n    height: 36px;\n    border-radius: 100%;\n    max-width: 36px;\n    min-width: 36px;\n    margin-right: 5px; }\n  .page-rank .rank-tag {\n    min-width: 28px;\n    text-align: center;\n    font-size: 12px;\n    background-color: #ff5a50;\n    color: #ffffff;\n    border-radius: 4px;\n    height: 18px;\n    line-height: 18px;\n    position: absolute;\n    left: -8px;\n    top: 8px;\n    z-index: 10; }\n  .page-rank .bottomloader {\n    text-align: center;\n    color: #666;\n    padding: 15px 0;\n    font-size: 14px;\n    box-sizing: border-box; }\n  .page-rank .list-data {\n    position: relative; }\n',""])},256:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=b(a(80)),s=b(a(81)),r=b(a(20)),i=b(a(21)),o=b(a(22)),l=b(a(23)),d=b(a(24));!function(){var e=a(3).enterModule;e&&e(t)}();var u=b(a(126)),c=a(2),f=b(c),p=b(a(82));a(252);var m=b(a(83));function b(t){return t&&t.__esModule?t:{default:t}}var k=function(t){function e(t){(0,i.default)(this,e);var a=(0,l.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return a.state={loading:!0,myRank:"",datas:[{users:[],last:!1,loadMore:!1,needLoader:!0,query:{keywords:"",from:null,from2:null,size:20},loaded:!1},{users:[],last:!1,loadMore:!1,needLoader:!0,query:{keywords:"",from:null,from2:null,size:20},loaded:!1}],tab:0},a.loadMoreData=a.loadMoreData.bind(a),a.loadData=a.loadData.bind(a),a.switchTab=a.switchTab.bind(a),a}return(0,d.default)(e,t),(0,o.default)(e,[{key:"componentDidMount",value:function(){var t=(0,s.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadData({query:this.state.datas[this.state.tab].query,tab:this.state.tab+1},!1);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadData",value:function(t,e,a){var n=this;(0,p.default)("rankData",t,this.props.history).then(function(t){if(t.success&&t.users){var s=t.users,r=n.state.datas;e&&(s=r[n.state.tab].users.concat(s)),r[n.state.tab].last=t.users.length<r[n.state.tab].query.size,t.users.length>0&&(r[n.state.tab].query.from=t.users[t.users.length-1].totalMoney,r[n.state.tab].query.from2=t.users[t.users.length-1].createTime),0===n.state.tab&&100===s.length&&(r[0].last=!0,r[0].needLoader=!1),r[n.state.tab].users=s,r[n.state.tab].loadMore=!1,r[n.state.tab].loaded=!0,n.setState(function(e){return{myRank:t.myrank,datas:r,loading:!1,innerLoading:!1}})}a&&a()})}},{key:"loadMoreData",value:function(){if(!this.state.datas[this.state.tab].last){var t=this.state.datas;t[this.state.tab].loadMore=!0,this.setState({datas:t}),this.loadData({query:this.state.datas[this.state.tab].query,tab:this.state.tab+1},!0)}}},{key:"switchTab",value:function(t){var e=this;this.setState({tab:t},function(){0!==e.state.datas[e.state.tab].users.length||e.state.datas[e.state.tab].loaded||(e.setState({innerLoading:!0}),e.loadData({query:e.state.datas[e.state.tab].query,tab:e.state.tab+1},!1))})}},{key:"render",value:function(){var t=this;return f.default.createElement("div",{className:"page-rank"},this.state.loading?f.default.createElement(m.default,{txt:"加载中"}):f.default.createElement(u.default,{loadMore:!this.state.datas[this.state.tab].last,loading:this.state.datas[this.state.tab].loadMore,loadMoreData:this.loadMoreData,needLoader:this.state.datas[this.state.tab].needLoader,noLoader:!this.state.datas[this.state.tab].needLoader,noEmpty:this.state.datas[this.state.tab].users.length>0,loaded:this.state.datas[this.state.tab].loaded},this.state.innerLoading?f.default.createElement(m.default,{txt:"加载中"}):null,f.default.createElement("div",{className:"rank-glance"},f.default.createElement("div",{className:"normal-txt txt my-rank"},"我的排名"),f.default.createElement("div",{className:"rank-no"},this.state.myRank>1e4?"10000+":this.state.myRank)),f.default.createElement("div",{className:"rank-detail-data"},f.default.createElement("div",{className:"rank-menu"},f.default.createElement("div",{className:0===this.state.tab?"rank-menu_item active":"rank-menu_item normal",onClick:function(){return t.switchTab(0)}},"全网排名"),f.default.createElement("div",{className:1===this.state.tab?"rank-menu_item active":"rank-menu_item normal",onClick:function(){return t.switchTab(1)}},"朋友排名")),f.default.createElement("div",{className:"list-data"},f.default.createElement("div",{className:"internet-rank"},this.state.datas[this.state.tab].users.map(function(t,e){return f.default.createElement("div",{className:"rank-item",key:e},f.default.createElement("div",{className:"user-info"},f.default.createElement("img",{src:t.headimgurl,className:"user-avatar",alt:""}),f.default.createElement("div",{className:"user-name"},t.nickname)),f.default.createElement("div",{className:"earn-amount"},t.totalMoney.toFixed(2)),f.default.createElement("div",{className:"rank-tag"},e+1))})))),0===this.state.tab&&100===this.state.datas[0].users.length?f.default.createElement("div",{className:"bottomloader"},"只显示前100"):null,0===this.state.datas[this.state.tab].users.length&&this.state.datas[this.state.tab].loaded?f.default.createElement("div",{style:{marginTop:50,color:"#aaa",textAlign:"center",fontSize:12}},"暂无数据"):null))}}]),e}(c.Component),h=k;e.default=h,function(){var e=a(3).default,n=a(3).leaveModule;e&&(e.register(k,"RankList","H:/react_app_userside/my-app/src/containers/Rank.js"),e.register(h,"default","H:/react_app_userside/my-app/src/containers/Rank.js"),n(t))}()}).call(this,a(13)(t))}}]);